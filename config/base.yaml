# Configuration for QAOps Slack Alarm Analyzer
# This file defines product-specific settings for alarm monitoring and Slack integration

products:
  # SEND Product Configuration
  SEND:
    # Environment-specific Slack channel configuration
    # Each environment routes alarm notifications to its designated Slack channel
    envs:
      prod:
        # Production environment Slack channel ID for SEND product alerts
        slack_channel_id: "C0585442Z39"
      uat:
        # UAT environment Slack channel ID for SEND product alerts
        slack_channel_id: "C03JJLHL5K8"

    # Alarm filtering and ignore rules configuration
    alarms:
      ignore:
        - name: "AWS Notification Message"
          path: "files.name"

        - name: "pn-Confinfo-SMS-MonthToDateSpentUSD"
          path: "attachments.title.alarm_name"
          reason: "ALARM: pn-Confinfo-SMS-MonthToDateSpentUSD. L'allarme riguarda le spese mensili in sms e viene monitorato direttamente dal gruppo Infra. Thread Slack: https://pagopaspa.slack.com/archives/C087KRMD16E/p1761312793655509Connect"
          
        - name: "pn-bff-WEB-payment-comp-5xx-ApiGwAlarm"
          path: "attachments.title.alarm_name"
          reason: "SEND contatto l'ente creditore per avere informazioni sul pagamento e per farlo passa anche per il downstream PagoPA: Il cittadino accede alla pagina di pagamento -> SEND invoca PagoPA -> PagoPA invoca l'ente mittente pertanto la responsabilità dei 500 è del servizio PagoPA e non di SEND"
        
        - name: "pn-web-logout-api-ErrorAlarm"
          path: "attachments.title.alarm_name"
          reason: "Fino al prossimo rilascio in prod  (6 novembre 2025) Piattaforma Notifiche: GA25Q4.A - Jira"

        - name: "workday-SLAViolations-SendPaperAr890-Alarm"
          path: "attachments.title.alarm_name"
          reason: "Questi allarmi scattano ogni giorno alle  3.00 UTC. Si tratta di allarmi periodici ed eventuali problemi associati alle metriche che misurano vengono verificati la mattina poco prima dello SU di Send. Nello specifico bisogna assicurarsi che: il numero di SLA di validazione in Violazione sia pari a 0; il numero di SLA SendPec non superi 4; Gli altri valori possono essere ignorati"
          
        - name: "workday-SLAViolations-Refinement-Alarm"
          path: "attachments.title.alarm_name"
          reason: "Questi allarmi scattano ogni giorno alle  3.00 UTC. Si tratta di allarmi periodici ed eventuali problemi associati alle metriche che misurano vengono verificati la mattina poco prima dello SU di Send. Nello specifico bisogna assicurarsi che: il numero di SLA di validazione in Violazione sia pari a 0; il numero di SLA SendPec non superi 4; Gli altri valori possono essere ignorati"
          
        - name: "workday-SLAViolations-SendAmr-Alarm"
          path: "attachments.title.alarm_name"
          reason: "Questi allarmi scattano ogni giorno alle  3.00 UTC. Si tratta di allarmi periodici ed eventuali problemi associati alle metriche che misurano vengono verificati la mattina poco prima dello SU di Send. Nello specifico bisogna assicurarsi che: il numero di SLA di validazione in Violazione sia pari a 0; il numero di SLA SendPec non superi 4; Gli altri valori possono essere ignorati"
          
        - name: "workday-SLAViolations-SendPec-Alarm"
          path: "attachments.title.alarm_name"
          reason: "Questi allarmi scattano ogni giorno alle  3.00 UTC. Si tratta di allarmi periodici ed eventuali problemi associati alle metriche che misurano vengono verificati la mattina poco prima dello SU di Send. Nello specifico bisogna assicurarsi che: il numero di SLA di validazione in Violazione sia pari a 0; il numero di SLA SendPec non superi 4; Gli altri valori possono essere ignorati"
          
        # List of alarms to be ignored/filtered out from notifications
        # Each entry can specify:
        # - name: exact alarm name or pattern
        # - path: file path pattern where alarm originates
        # - environments: list of environments where rule applies (optional, defaults to all)

        # Global ignore rule: applies to all environments
        # Ignores disk space low alerts from any file
        # - name: "DiskSpaceLow"
        #   path: "file.name"
        #   reason: "Questa tipologia di errore al momento non viene considerata perché c'è un disservizio fino al 31/10"

        # Environment-templated ignore rule: applies to all environments
        # Uses [#env#] placeholder that gets replaced with actual environment name
        # Example: "WSCORe-API-500-prod", "WSCORe-API-500-uat"
        # - name: "WSCORe-API-500-[#env#]"
        #   path: "file.name"

        # Environment-specific ignore rule: applies only to specified environments
        # This rule ignores minor network flap alerts only in production
        # - name: "MinorNetworkFlap"
        #   environments: ["prod"]  # Restricts rule to production environment only
        #   path: "file.name"

  # INTEROP Product Configuration
  INTEROP:
    # Environment-specific Slack channel configuration for INTEROP product
    envs:
      prod:
        # Production environment
        slack_channel_id: "C0472QPG5D2"
      test:
        # Test environment 
        slack_channel_id: "C04708Y1QP5"
      att:
        # Attestazione
        slack_channel_id: "C06LQ7Y8B17"
      catalog:
        # Attestazione
        slack_channel_id: "C09RVCSL4BS"

    # Alarm filtering and ignore rules configuration for INTEROP
    alarms:
      ignore:
        - name: "AWS Notification Message"
          path: "files.name"
